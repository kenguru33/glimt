#!/usr/bin/env bash
# Prints VAR=VALUE lines for your user session at login.
# Only emit when the current session is Wayland (safe on X11/VMs).

if [ "${XDG_SESSION_TYPE:-}" = "wayland" ]; then
  # Electron apps (VS Code, Lens, Slack, Discord, Obsidianâ€¦)
  echo "ELECTRON_OZONE_PLATFORM_HINT=wayland"
  echo "OZONE_PLATFORM=wayland"                 # forced only on Wayland

  # Qt/KDE apps
  echo "QT_QPA_PLATFORM=wayland"
  echo "QT_ENABLE_HIGHDPI_SCALING=1"
  echo "QT_AUTO_SCREEN_SCALE_FACTOR=1"
  echo "QT_SCALE_FACTOR_ROUNDING_POLICY=PassThrough"
  # If you prefer compositor-drawn borders on GNOME, uncomment:
  # echo "QT_WAYLAND_DISABLE_WINDOWDECORATION=1"
fi
